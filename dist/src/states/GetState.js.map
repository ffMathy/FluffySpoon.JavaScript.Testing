{"version":3,"file":"GetState.js","sourceRoot":"","sources":["../../../src/states/GetState.ts"],"names":[],"mappings":";;AAEA,iDAAgD;AAEhD,IAAM,OAAO,GAAG,MAAM,EAAE,CAAC;AAEzB;IAII;QACI,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,6BAAK,GAAL,UAAM,OAAgB,EAAE,IAAW;QAC/B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAEvB,IAAI,aAAa,GAAG,IAAI,6BAAa,EAAE,CAAC;QACxC,OAAO,CAAC,KAAK,GAAG,aAAa,CAAC;QAE9B,OAAO,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC9C,CAAC;IAED,2BAAG,GAAH,UAAI,OAAgB,EAAE,QAAqB,EAAE,KAAU;IACvD,CAAC;IAED,2BAAG,GAAH,UAAI,OAAgB,EAAE,QAAqB;QAA3C,iBAcC;QAbG,IAAG,IAAI,CAAC,UAAU;YACd,OAAO,OAAO,CAAC,KAAK,CAAC;QAEzB,IAAG,QAAQ,KAAK,SAAS,EAAE;YACvB,OAAO,UAAC,OAAY;gBAChB,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YAC3B,CAAC,CAAC;SACL;QAED,IAAG,IAAI,CAAC,OAAO,KAAK,OAAO;YACvB,OAAO,IAAI,CAAC,OAAO,CAAC;QAExB,OAAO,OAAO,CAAC,KAAK,CAAC;IACzB,CAAC;IACL,oBAAC;AAAD,CAAC,AApCD,IAoCC;AApCY,sCAAa","sourcesContent":["import { ContextState, PropertyKey } from \"./ContextState\";\r\nimport { Context } from \"src/Context\";\r\nimport { FunctionState } from \"./FunctionState\";\r\n\r\nconst Nothing = Symbol();\r\n\r\nexport class PropertyState implements ContextState {\r\n    private returns: any;\r\n    private isFunction: boolean;\r\n\r\n    constructor() {\r\n        this.returns = Nothing;\r\n        this.isFunction = false;\r\n    }\r\n\r\n    apply(context: Context, args: any[]) {\r\n        this.isFunction = true;\r\n\r\n        var functionState = new FunctionState();\r\n        context.state = functionState;\r\n\r\n        return functionState.apply(context, args);\r\n    }\r\n\r\n    set(context: Context, property: PropertyKey, value: any) {\r\n    }\r\n\r\n    get(context: Context, property: PropertyKey) {\r\n        if(this.isFunction)\r\n            return context.proxy;\r\n\r\n        if(property === 'returns') {\r\n            return (returns: any) => {\r\n                this.returns = returns;\r\n            };\r\n        }\r\n\r\n        if(this.returns !== Nothing)\r\n            return this.returns;\r\n\r\n        return context.proxy;\r\n    }\r\n}"]}